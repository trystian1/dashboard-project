
<h1 class="col-md-12 page-header"><i class="glyphicon glyphicon-sunglasses"></i> Key Company Metrics </h1>
<div class="col-md-12">
<p class="lead">This is the key-metrics view.</p>
</div>
<div>
<div class="row">
  <div class="col-md-5 col-xs-12 col-sm-12">
  <h2><i class="glyphicon glyphicon-thumbs-up"></i> Live Sales </h2>
  <p class="lead"> Total sales Quater 4: {{keymetric.q4TotalSales}} </p>
  <div>
  <div class="alert alert-success" role="alert">Recent sale: $ {{keymetric.recentSale.sales}} </div>

  <div class="progress">
    <div class="progress-bar progress-bar-success" role="progressbar" ng-style="{'width' : keymetric.progress + '%'}"></div>
    <span class="progress-indicator">{{keymetric.q4TotalSales}} / 1000000 <span>
    </div>
  </div>
  </div>

  <div class="col-md-5 col-xs-12 col-sm-12">
    <h2><i class="glyphicon glyphicon-warning-sign"></i> Live Issues </h2>
    <div class="alert alert-danger" role="alert">
      <p class="lead"><span class="bold">IssueNumber:</span> {{keymetric.randomIssue.id}} </p>
      <p class="lead"><span class="bold">Reporter:</span> {{keymetric.randomIssue.firstName}} {{keymetric.randomIssue.lastName}}</p>
      <p class="lead"><span class="bold">Opened:</span> {{keymetric.randomIssue.opened}}</p>
      <p class="lead"><span class="bold">Email:</span> {{keymetric.randomIssue.email}}</p>
      <p class="lead"><span class="bold">Issue:</span> {{keymetric.randomIssue.issue}}</p>
    </div>
  </div>
</div>



 <div class="col-md-5 col-xs-12 col-sm-12">
  <h2><i class="glyphicon glyphicon-euro"></i> Sales this year </h2>
  <!-- <div class=""> -->
  <div class="graph-wrap">
    <svg class="graph">
      <g class="grid x-grid">
        <line x1="90" x2="90" y1="5" y2="371"></line>
      </g>
      <g class="grid y-grid">
        <line x1="90" x2="570" y1="370" y2="370"></line>
      </g>
      <g class="grid x-grid line-graph">
        <line x1="90" x2="246" ng-attr-y1={{keymetric.q1Position}} ng-attr-y2={{keymetric.q2Position}}></line>
        <text x="90" ng-attr-y="{{keymetric.q1Position}}">$ {{keymetric.q1TotalSales}}</text>
        <line x1="246" x2="392" ng-attr-y1={{keymetric.q2Position}} ng-attr-y2={{keymetric.q3Position}}></line>
        <text x="246" ng-attr-y="{{keymetric.q2Position + 13}}">$ {{keymetric.q2TotalSales}}</text>
        <line x1="392" x2="538" ng-attr-y1={{keymetric.q3Position}} ng-attr-y2={{keymetric.q4Position}}></line>
        <text x="392" ng-attr-y="{{keymetric.q3Position}}">$ {{keymetric.q3TotalSales}}</text>
        <line x1="538" x2="570" ng-attr-y1={{keymetric.q4Position}} ng-attr-y2={{keymetric.q4Position}}></line>
        <text x="538" ng-attr-y="{{keymetric.q4Position - 5}}">$ {{keymetric.q4TotalSales}}</text>
      </g>

    <g class="labels x-labels">
      <text x="100" y="400">Q1 2016</text>
      <text x="246" y="400">Q2 2016</text>
      <text x="392" y="400">Q3 2016</text>
      <text x="538" y="400">Q4 2016</text>
    </g>

      <g class="labels y-labels">
        <text x="80" y="15">$1000</text>
        <text x="80" y="131">$900</text>
        <text x="80" y="248">$800</text>
        <text x="80" y="373">$700</text>
        <text x="48" y="200" class="label-title">Sales</text>
        <text x="50" y="215" class="label-title">(x 1000)</text>
      </g>
    </svg>
  </div>
</div>

<div class="col-md-5 col-xs-12 col-sm-12">
  <h2><i class="glyphicon glyphicon-fire"></i> Issues this year </h2>

  <svg class="chart">
    <g class="bar">
      <rect ng-attr-width="{{((keymetric.issuesQ1Length / 110) * 100) + '%'}} " height="50"></rect>
      <text x="45" y="18" dy="1em">Q1: {{keymetric.issuesQ1Length}} issues</text>
    </g>
    <g class="bar">
      <rect ng-attr-width="{{((keymetric.issuesQ2Length  / 110) * 100) + '%'}}" height="50" y="60"></rect>
      <text x="45" y="78" dy="1em">Q2: {{keymetric.issuesQ2Length}} issues</text>
    </g>
    <g class="bar">
      <rect ng-attr-width="{{((keymetric.issuesQ3Length / 110) * 100) + '%'}} " height="50" y="120"></rect>
      <text x="45" y="138" dy="1em">Q3: {{keymetric.issuesQ3Length}} issues</text>
    </g>
    <g class="bar">
      <rect ng-attr-width="{{((keymetric.issuesQ4Length / 110) * 100) + '%'}} " height="50" y="180"></rect>
      <text x="45" y="198" dy="1em">Q4 {{keymetric.issuesQ4Length}} issues</text>
    </g>
  </svg>
</div>
